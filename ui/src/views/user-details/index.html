<div class="width-container" *ngIf="user">
    <div class="flex">
        <img style="max-height: 128px" class="flex-no-shrink rounded-full mr-4" src="https://www.gravatar.com/avatar/{{ user.user_hash }}.jpg?d=mp&size=128">

        <div class="ml-3">
            <div class="mb-6">
                <p class="text-xl">{{ user.first_name }} {{ user.last_name }}</p>
                <div *ngIf="user.id === activeUser.id" class="mt-3">
                    <p *ngIf="activeUser.is_staff" class="text-grey">
                        Log into the <a href="/admin/">admin portal</a> to manage the site.
                    </p>
                </div>
            </div>
            <button *ngIf="user.id === activeUser.id"
                    class="
                        text-grey text-xs bg-transparent
                        font-semibold py-2 px-4
                        border border-grey-dark rounded"
                    (click)="logout()">
                    Log out
            </button>
        </div>
    </div>

    <p class="mt-12 mb-3 text-lg text-center">Comments</p>
    <div *ngIf="!comments" class="text-sm text-center text-grey-light">loading ...</div>
    <div *ngIf="comments" class="mt-3 bg-grey-lighter -mx-4 px-4 py-3 mt-3">
        <div *ngFor="let comment of comments" class="bg-white p-5 mt-6">
            <comment [comment]="comment" [user]="activeUser" [recipeTitle]="true"
                     [includeImage]="false"></comment>
        </div>
    </div>

</div>
