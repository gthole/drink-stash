<div class="flex" *ngIf="user">
    <div class="flex mb-10 flex-wrap content-start w-full lg:w-1/2">
        <div class="flex w-full mb-10">
            <img style="max-height: 128px" class="flex-no-shrink rounded-full mr-4" src="https://www.gravatar.com/avatar/{{ user.user_hash }}.jpg?d=mp&size=128">

            <div class="ml-3">
                <div class="mb-6">
                    <p class="title">{{ user.first_name }} {{ user.last_name }}</p>
                    <div *ngIf="user.id === activeUser.id" class="mt-3">
                        <p *ngIf="activeUser.is_staff" class="text-grey">
                            Log into the <a href="/admin/">admin portal</a> to manage the site.
                        </p>
                    </div>
                </div>
                <button *ngIf="user.id === activeUser.id"
                        class="
                            text-grey text-xs bg-transparent
                            font-semibold py-2 px-4
                            border border-grey-dark rounded"
                        (click)="logout()">
                        Log out
                </button>
            </div>
        </div>

        <div class="w-full">
            <p class="w-full mt-12 md:mt-0 mb-3 block uppercase tracking-wide font-bold text-grey-darker text-center">Lists</p>
            <div *ngIf="lists">
                <div *ngFor="let list of lists">
                    <div class="max-w-sm">
                      <div class="px-6 py-4">
                        <div>
                            <a routerLink="/lists/{{ list.id }}" class="font-bold text-xl text-grey-darker mb-2">{{ list.name }}</a>
                            <span class="text-grey-dark font-light ml-1">({{ list.recipe_count }} recipes)</span>
                        </div>
                        <div class="text-grey-dark text-sm">
                            <p *ngIf="list.description">{{ list.description }}</p>
                            <p *ngIf="!list.description">(no description)</p>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="w-full lg:w-1/2">
        <activity-feed
            *ngIf="comments"
            [title]="'Activity'"
            [comments]="comments"
            [recipeTitle]="true"
            [includeImage]="false"
        ></activity-feed>
    </div>
</div>
