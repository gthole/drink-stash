<div *ngIf="activityFeed.length">
    <p class="lg:mt-0 mb-3 block uppercase tracking-wide font-bold text-gray-800 text-center">{{ title }}</p>
    <div class="bg-secondary -mx-4 lg:mx-0 px-4 py-3 mt-3">
        <div class="rounded shadow mt-6 mb-6 lg:mx-5 flex bg-white p-5" *ngFor="let a of activityFeed">
            <div class="mr-4" *ngIf="includeImage">
                <a routerLink="/users/{{ a.username }}">
                    <img class="min-img w-10 h-10 rounded-full" src="{{ a.image || '/static/img/generic.png' }}">
                </a>
            </div>
            <div class="text-sm">
                <p class="leading-none mb-1" class="text-gray-600">
                    <span class="text-black">
                        <a routerLink="/users/{{ a.username }}">{{ a.name }}</a>
                    </span>
                    <span *ngIf="a.type === 'recipe'"> added a recipe </span>
                    <span *ngIf="a.type === 'listrecipe'"> added {{ recipeTitle ? 'a' : 'this' }} recipe to
                        <a routerLink="/users/{{ a.username }}/lists/{{ a.id }}">
                            "{{ a.text }}"
                        </a>
                    </span>
                    <span *ngIf="a.type === 'comment' && recipeTitle"> made a comment </span>
                    <span *ngIf="a.type === 'comment' && username === a.username" class="text-gray-400">
                        <a routerLink="/comments/{{ a.id }}">&nbsp;(edit)</a>
                    </span>
                </p>
                <p class="mb-3 text-gray-500"> {{ a.when | amTimeAgo }}</p>

                <p class="font-bold" *ngIf="recipeTitle">
                    <a routerLink="/recipes/{{ a.recipe.slug }}">{{ a.recipe.name }}</a>
                </p>
                <div *ngIf="recipeTitle && (a.type === 'recipe' || a.type === 'listrecipe')"
                     class="text-gray-700 quantities text-sm">
                    <span *ngFor="let ingredient of a.recipe.ingredients" class="mr-2">
                        {{ ingredient }}
                    </span>
                </div>
                <div *ngIf="a.type === 'comment'"
                    class="text-gray-700 whitespace-pre-wrap">{{ (a.text.length>110 && recipeTitle)? (a.text | slice:0:110)+' ...':(a.text) }}</div>

            </div>
        </div>
        <div class="text-center text-sm mt-6 mb-6">
            <a *ngIf="activityFeed.length < allActivities.length" class="btn btn-primary" (click)="loadMore()">Load more</a>
        </div>
    </div>
</div>
